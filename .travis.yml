language: csharp
mono: none
dotnet: 2.0.0
dist: trusty
solution: SourceDemoParser.Net.sln
script:
  - dotnet restore
  - dotnet build src/SourceDemoParser.Net/ -c Release -f netstandard1.4
# Test
  - dotnet build src/SourceDemoParser.Net.Test/ -c PARSE_T -f netcoreapp1.1
  - dotnet run -p src/SourceDemoParser.Net.Test/ -c PARSE_T -f netcoreapp1.1 --no-build
# CLI Test
  - dotnet build src/SourceDemoParser-CLI/ -c Release -f netcoreapp1.1
  - dotnet run -p src/SourceDemoParser-CLI/ -c Release -f netcoreapp1.1 --no-build -- demos/public/portal2_sp.dem -o ticks adj ticks